const translations = {
    pl: {
        // Podstawowe
        'appName': 'SICO MIX',
        'appSubtitle': 'System zarządzania przepisami farb',
        'mainMenu': 'Menu główne',
        'home': 'Strona główna',
        'newRecipe': 'Nowy przepis',
        'recipes': 'Przepisy',
        'catalog': 'Katalog farb',
        'importExport': 'Import/Eksport',
        'import': 'Import',
        'export': 'Eksport',
        'settings': 'Ustawienia',
        'language': 'Język',
        'paintsInCatalog': 'farb w katalogu',
        
        // Strona główna
        'welcomeTitle': 'Witamy w SICO MIX',
        'welcomeSubtitle': 'Profesjonalny system zarządzania przepisami farb do tworzenia, przechowywania i analizowania rozwiązań kolorystycznych',
        'newRecipeDesc': 'Utwórz nowy przepis farby ze szczegółowymi proporcjami i charakterystyką',
        'myRecipes': 'Moje przepisy',
        'myRecipesDesc': 'Przeglądaj, edytuj i zarządzaj wszystkimi zapisanymi przepisami',
        'paintCatalog': 'Katalog farb',
        'paintCatalogDesc': 'Baza wszystkich dostępnych farb z możliwością wyszukiwania i filtrowania',
        'exportData': 'Eksport danych',
        'exportDataDesc': 'Eksportuj swoje przepisy w różnych formatach do dalszego użycia',
        
        // Nowy przepis
        'newRecipePageDesc': 'Utwórz nowy przepis farby, dodając składniki i określając proporcje',
        'basicInfo': 'Podstawowe informacje',
        'recipeName': 'Nazwa przepisu',
        'recipeNamePlaceholder': 'Wprowadź nazwę przepisu',
        'category': 'Kategoria',
        'selectCategory': 'Wybierz kategorię',
        'color': 'Kolor',
        'recipeDescription': 'Opis przepisu',
        'recipeDescriptionPlaceholder': 'Dodaj opis przepisu (opcjonalnie)',
        'recipePhoto': 'Zdjęcie przepisu',
        'uploadPhoto': 'Załaduj zdjęcie',
        'recipeIngredients': 'Składniki przepisu',
        'searchPaints': 'Wyszukaj farby...',
        'allCategories': 'Wszystkie kategorie',
        'paint': 'Farba',
        'amount': 'Ilość',
        'units': 'Jednostki',
        'percentage': 'Procent',
        'actions': 'Akcje',
        'addIngredient': 'Dodaj składnik',
        'saveRecipe': 'Zapisz przepis',
        'calculatePercentages': 'Oblicz procenty',
        'clearForm': 'Wyczyść formularz',
        
        // Przepisy
        'recipesPageDesc': 'Przeglądaj, edytuj i zarządzaj wszystkimi przepisami farb',
        'searchRecipes': 'Wyszukaj przepisy...',
        'print': 'Drukuj',
        'deleteSelected': 'Usuń wybrane',
        
        // Katalog
        'catalogPageDesc': 'Baza wszystkich dostępnych farb ze szczegółowymi informacjami i charakterystyką',
        'searchCatalog': 'Wyszukaj farby w katalogu...',
        'addNewPaint': 'Dodaj nową farbę',
        
        // Import
        'importPageDesc': 'Importuj przepisy i katalog farb z plików w różnych formatach',
        'selectFileImport': 'Wybierz plik do importu',
        'fileFormat': 'Format pliku',
        'selectFile': 'Wybierz plik',
        'selectFileToImport': 'Wybierz plik do importu',
        'dataTypeImport': 'Typ danych do importu',
        'paintsFromCatalog': 'Farby z katalogu',
        'startImport': 'Rozpocznij import',
        
        // Eksport
        'exportPageDesc': 'Eksportuj swoje dane w różnych formatach do przechowywania i dalszego wykorzystania',
        'exportSettings': 'Ustawienia eksportu',
        'exportFormat': 'Format eksportu',
        'dataToExport': 'Dane do eksportu',
        'calculations': 'Obliczenia',
        'additionalOptions': 'Dodatkowe opcje',
        'includePhotos': 'Dołącz zdjęcia',
        'compressData': 'Kompresuj dane (ZIP)',
        'startExport': 'Rozpocznij eksport',
        
        // Ustawienia
        'settingsPageDesc': 'Skonfiguruj system SICO MIX zgodnie z Twoimi potrzebami',
        'generalSettings': 'Ustawienia ogólne',
        'interfaceLanguage': 'Język interfejsu',
        'measurementUnits': 'Jednostki miary',
        'autoSave': 'Automatyczne zapisywanie',
        'autoSaveChanges': 'Automatycznie zapisuj zmiany',
        'createBackups': 'Twórz kopie zapasowe',
        'saveSettings': 'Zapisz ustawienia',
        'resetToDefault': 'Przywróć domyślne',
        'clearAllData': 'Wyczyść wszystkie dane',
        
        // Modal dodawania farby
        'addNewPaint': 'Dodaj nową farbę',
        'paintName': 'Nazwa farby',
        'paintNamePlaceholder': 'Wprowadź nazwę farby',
        'colorCode': 'Kod koloru',
        'colorCodePlaceholder': '#000000 lub RGB',
        'paintDescription': 'Opis farby',
        'paintDescriptionPlaceholder': 'Opisz charakterystykę farby',
        'manufacturer': 'Producent',
        'manufacturerPlaceholder': 'Nazwa producenta',
        'article': 'Artykuł',
        'articlePlaceholder': 'Artykuł produktu',
        'savePaint': 'Zapisz farbę',
        'cancel': 'Anuluj',
        
        // Modal potwierdzenia
        'confirmationAction': 'Potwierdzenie akcji',
        'confirmationMessage': 'Czy na pewno chcesz wykonać tę akcję?',
        'confirmYes': 'Tak, wykonaj',
        
        // Powiadomienia
        'recipeSaved': 'Przepis zapisany',
        'recipeDeleted': 'Przepis usunięty',
        'paintAdded': 'Farba dodana',
        'paintDeleted': 'Farba usunięta',
        'selectForDelete': 'Wybierz przepisy do usunięcia',
        
        // Stopka
        'version': 'Wersja',
        'systemName': 'System zarządzania przepisami farb'
    },
    
    uk: {
        // Основне
        'appName': 'SICO MIX',
        'appSubtitle': 'Система управління рецептами фарб',
        'mainMenu': 'Головне меню',
        'home': 'Головна',
        'newRecipe': 'Новий рецепт',
        'recipes': 'Рецепти',
        'catalog': 'Каталог фарб',
        'importExport': 'Імпорт/Експорт',
        'import': 'Імпорт',
        'export': 'Експорт',
        'settings': 'Налаштування',
        'language': 'Мова',
        'paintsInCatalog': 'фарб у каталозі',
        
        // Головна сторінка
        'welcomeTitle': 'Ласкаво просимо до SICO MIX',
        'welcomeSubtitle': 'Професійна система управління рецептами фарб для створення, зберігання та аналізу ваших кольорових рішень',
        'newRecipeDesc': 'Створіть новий рецепт фарби з детальними пропорціями та характеристиками',
        'myRecipes': 'Мої рецепти',
        'myRecipesDesc': 'Переглядайте, редагуйте та керуйте всіма вашими збереженими рецептами',
        'paintCatalog': 'Каталог фарб',
        'paintCatalogDesc': 'База всіх доступних фарб з можливістю пошуку та фільтрації',
        'exportData': 'Експорт даних',
        'exportDataDesc': 'Експортуйте ваші рецепти у різних форматах для подальшого використання',
        
        // Новий рецепт
        'newRecipePageDesc': 'Створіть новий рецепт фарби, додаючи інгредієнти та вказуючи пропорції',
        'basicInfo': 'Основна інформація',
        'recipeName': 'Назва рецепту',
        'recipeNamePlaceholder': 'Введіть назву рецепту',
        'category': 'Категорія',
        'selectCategory': 'Оберіть категорію',
        'color': 'Колір',
        'recipeDescription': 'Опис рецепту',
        'recipeDescriptionPlaceholder': 'Додайте опис рецепту (необов\'язково)',
        'recipePhoto': 'Фото рецепту',
        'uploadPhoto': 'Завантажити фото',
        'recipeIngredients': 'Інгредієнти рецепту',
        'searchPaints': 'Пошук фарб...',
        'allCategories': 'Всі категорії',
        'paint': 'Фарба',
        'amount': 'Кількість',
        'units': 'Одиниці',
        'percentage': 'Відсоток',
        'actions': 'Дії',
        'addIngredient': 'Додати інгредієнт',
        'saveRecipe': 'Зберегти рецепт',
        'calculatePercentages': 'Розрахувати відсотки',
        'clearForm': 'Очистити форму',
        
        // Рецепти
        'recipesPageDesc': 'Переглядайте, редагуйте та керуйте всіма вашими рецептами фарб',
        'searchRecipes': 'Пошук рецептів...',
        'print': 'Друк',
        'deleteSelected': 'Видалити обрані',
        
        // Каталог
        'catalogPageDesc': 'База всіх доступних фарб з детальною інформацією та характеристиками',
        'searchCatalog': 'Пошук фарб у каталозі...',
        'addNewPaint': 'Додати нову фарбу',
        
        // Імпорт
        'importPageDesc': 'Імпортуйте рецепти та каталог фарб з файлів різних форматів',
        'selectFileImport': 'Виберіть файл для імпорту',
        'fileFormat': 'Формат файлу',
        'selectFile': 'Оберіть файл',
        'selectFileToImport': 'Оберіть файл для імпорту',
        'dataTypeImport': 'Тип даних для імпорту',
        'paintsFromCatalog': 'Фарби з каталогу',
        'startImport': 'Почати імпорт',
        
        // Експорт
        'exportPageDesc': 'Експортуйте ваші дані у різних форматах для зберігання та подальшого використання',
        'exportSettings': 'Налаштування експорту',
        'exportFormat': 'Формат експорту',
        'dataToExport': 'Дані для експорту',
        'calculations': 'Розрахунки',
        'additionalOptions': 'Додаткові опції',
        'includePhotos': 'Включати фотографії',
        'compressData': 'Стиснути дані (ZIP)',
        'startExport': 'Почати експорт',
        
        // Налаштування
        'settingsPageDesc': 'Налаштуйте систему SICO MIX за вашими потребами',
        'generalSettings': 'Загальні налаштування',
        'interfaceLanguage': 'Мова інтерфейсу',
        'measurementUnits': 'Одиниці вимірювання',
        'autoSave': 'Автоматичне збереження',
        'autoSaveChanges': 'Автоматично зберігати зміни',
        'createBackups': 'Створювати резервні копії',
        'saveSettings': 'Зберегти налаштування',
        'resetToDefault': 'Скинути до стандартних',
        'clearAllData': 'Очистити всі дані',
        
        // Модальне вікно додавання фарби
        'addNewPaint': 'Додати нову фарбу',
        'paintName': 'Назва фарби',
        'paintNamePlaceholder': 'Введіть назву фарби',
        'colorCode': 'Код кольору',
        'colorCodePlaceholder': '#000000 або RGB',
        'paintDescription': 'Опис фарби',
        'paintDescriptionPlaceholder': 'Опишіть характеристики фарби',
        'manufacturer': 'Виробник',
        'manufacturerPlaceholder': 'Назва виробника',
        'article': 'Артикул',
        'articlePlaceholder': 'Артикул продукту',
        'savePaint': 'Зберегти фарбу',
        
        // Модальне вікно підтвердження
        'confirmationAction': 'Підтвердження дії',
        'confirmationMessage': 'Ви впевнені, що хочете виконати цю дію?',
        'confirmYes': 'Так, виконати',
        
        // Сповіщення
        'recipeSaved': 'Рецепт збережено',
        'recipeDeleted': 'Рецепт видалено',
        'paintAdded': 'Фарбу додано',
        'paintDeleted': 'Фарбу видалено',
        'selectForDelete': 'Оберіть рецепти для видалення',
        
        // Підвал
        'version': 'Версія',
        'systemName': 'Система управління рецептами фарб'
    },
    
    en: {
        // Basic
        'appName': 'SICO MIX',
        'appSubtitle': 'Paint recipe management system',
        'mainMenu': 'Main Menu',
        'home': 'Home',
        'newRecipe': 'New Recipe',
        'recipes': 'Recipes',
        'catalog': 'Paint Catalog',
        'importExport': 'Import/Export',
        'import': 'Import',
        'export': 'Export',
        'settings': 'Settings',
        'language': 'Language',
        'paintsInCatalog': 'paints in catalog',
        
        // Home page
        'welcomeTitle': 'Welcome to SICO MIX',
        'welcomeSubtitle': 'Professional paint recipe management system for creating, storing and analyzing your color solutions',
        'newRecipeDesc': 'Create a new paint recipe with detailed proportions and characteristics',
        'myRecipes': 'My Recipes',
        'myRecipesDesc': 'Browse, edit and manage all your saved recipes',
        'paintCatalog': 'Paint Catalog',
        'paintCatalogDesc': 'Database of all available paints with search and filtering capabilities',
        'exportData': 'Export Data',
        'exportDataDesc': 'Export your recipes in various formats for further use',
        
        // New recipe
        'newRecipePageDesc': 'Create a new paint recipe by adding ingredients and specifying proportions',
        'basicInfo': 'Basic Information',
        'recipeName': 'Recipe Name',
        'recipeNamePlaceholder': 'Enter recipe name',
        'category': 'Category',
        'selectCategory': 'Select category',
        'color': 'Color',
        'recipeDescription': 'Recipe Description',
        'recipeDescriptionPlaceholder': 'Add recipe description (optional)',
        'recipePhoto': 'Recipe Photo',
        'uploadPhoto': 'Upload photo',
        'recipeIngredients': 'Recipe Ingredients',
        'searchPaints': 'Search paints...',
        'allCategories': 'All categories',
        'paint': 'Paint',
        'amount': 'Amount',
        'units': 'Units',
        'percentage': 'Percentage',
        'actions': 'Actions',
        'addIngredient': 'Add ingredient',
        'saveRecipe': 'Save recipe',
        'calculatePercentages': 'Calculate percentages',
        'clearForm': 'Clear form',
        
        // Recipes
        'recipesPageDesc': 'Browse, edit and manage all your paint recipes',
        'searchRecipes': 'Search recipes...',
        'print': 'Print',
        'deleteSelected': 'Delete selected',
        
        // Catalog
        'catalogPageDesc': 'Database of all available paints with detailed information and characteristics',
        'searchCatalog': 'Search paints in catalog...',
        'addNewPaint': 'Add new paint',
        
        // Import
        'importPageDesc': 'Import recipes and paint catalog from files in various formats',
        'selectFileImport': 'Select file for import',
        'fileFormat': 'File format',
        'selectFile': 'Select file',
        'selectFileToImport': 'Select file for import',
        'dataTypeImport': 'Data type for import',
        'paintsFromCatalog': 'Paints from catalog',
        'startImport': 'Start import',
        
        // Export
        'exportPageDesc': 'Export your data in various formats for storage and further use',
        'exportSettings': 'Export settings',
        'exportFormat': 'Export format',
        'dataToExport': 'Data to export',
        'calculations': 'Calculations',
        'additionalOptions': 'Additional options',
        'includePhotos': 'Include photos',
        'compressData': 'Compress data (ZIP)',
        'startExport': 'Start export',
        
        // Settings
        'settingsPageDesc': 'Configure SICO MIX system according to your needs',
        'generalSettings': 'General Settings',
        'interfaceLanguage': 'Interface language',
        'measurementUnits': 'Measurement units',
        'autoSave': 'Auto save',
        'autoSaveChanges': 'Automatically save changes',
        'createBackups': 'Create backups',
        'saveSettings': 'Save settings',
        'resetToDefault': 'Reset to default',
        'clearAllData': 'Clear all data',
        
        // Add paint modal
        'addNewPaint': 'Add new paint',
        'paintName': 'Paint name',
        'paintNamePlaceholder': 'Enter paint name',
        'colorCode': 'Color code',
        'colorCodePlaceholder': '#000000 or RGB',
        'paintDescription': 'Paint description',
        'paintDescriptionPlaceholder': 'Describe paint characteristics',
        'manufacturer': 'Manufacturer',
        'manufacturerPlaceholder': 'Manufacturer name',
        'article': 'Article',
        'articlePlaceholder': 'Product article',
        'savePaint': 'Save paint',
        
        // Confirmation modal
        'confirmationAction': 'Action confirmation',
        'confirmationMessage': 'Are you sure you want to perform this action?',
        'confirmYes': 'Yes, perform',
        
        // Notifications
        'recipeSaved': 'Recipe saved',
        'recipeDeleted': 'Recipe deleted',
        'paintAdded': 'Paint added',
        'paintDeleted': 'Paint deleted',
        'selectForDelete': 'Select recipes for deletion',
        
        // Footer
        'version': 'Version',
        'systemName': 'Paint recipe management system'
    }
};

let currentLanguage = 'pl';

function setLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        document.documentElement.lang = lang;
        localStorage.setItem('sicoMixLanguage', lang);
        applyTranslations();
        updatePlaceholders();
    }
}

function getTranslation(key) {
    return translations[currentLanguage][key] || translations['pl'][key] || key;
}

function applyTranslations() {
    // Переклад тексту
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (key) {
            element.textContent = getTranslation(key);
        }
    });
    
    // Оновлення селектів мови
    const languageSelectors = [
        document.getElementById('mobileLanguageSelect'),
        document.getElementById('sidebarLanguageSelect'),
        document.getElementById('desktopLanguageSelect'),
        document.getElementById('languageSelect')
    ];
    
    languageSelectors.forEach(selector => {
        if (selector) {
            selector.value = currentLanguage;
        }
    });
}

function updatePlaceholders() {
    document.querySelectorAll('[data-i18n-ph]').forEach(element => {
        const key = element.getAttribute('data-i18n-ph');
        if (key) {
            element.placeholder = getTranslation(key);
        }
    });
}

function initLanguage() {
    const savedLang = localStorage.getItem('sicoMixLanguage') || 'pl';
    setLanguage(savedLang);
    
    // Додавання обробників подій для селекторів мови
    const languageSelectors = [
        document.getElementById('mobileLanguageSelect'),
        document.getElementById('sidebarLanguageSelect'),
        document.getElementById('desktopLanguageSelect'),
        document.getElementById('languageSelect')
    ];
    
    languageSelectors.forEach(selector => {
        if (selector) {
            selector.addEventListener('change', (e) => {
                setLanguage(e.target.value);
            });
        }
    });
}

document.addEventListener('DOMContentLoaded', initLanguage);
