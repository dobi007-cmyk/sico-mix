<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É —Ñ–∞—Ä–±</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: #0a0c0f;
            color: white;
            font-family: 'Inter', system-ui, sans-serif;
            padding: 40px;
        }
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(20,24,28,0.8);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .test-header h1 {
            font-size: 24px;
            background: linear-gradient(135deg, #fff, #4cc9f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .variant-selector {
            padding: 12px 20px;
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(58,134,255,0.5);
            border-radius: 40px;
            color: white;
            font-size: 16px;
            min-width: 250px;
            cursor: pointer;
        }
        .variant-selector option {
            background: #14181c;
            color: white;
        }
        #catalog-container {
            max-width: 1200px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>üé® –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É —Ñ–∞—Ä–±</h1>
        <select id="variant-selector" class="variant-selector">
            <option value="1">–í–∞—Ä—ñ–∞–Ω—Ç 1 ‚Äì –ö–æ–º–ø–∞–∫—Ç–Ω–∏–π —Å—ñ—Ç–∫–æ–≤–∏–π</option>
            <option value="2">–í–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äì –î–≤–æ–ø–∞–Ω–µ–ª—å–Ω–∏–π</option>
            <option value="3">–í–∞—Ä—ñ–∞–Ω—Ç 3 ‚Äì –°—ñ—Ç–∫–∞ –∑ –º—ñ–Ω—ñ–∞—Ç—é—Ä–∞–º–∏</option>
            <option value="4">–í–∞—Ä—ñ–∞–Ω—Ç 4 ‚Äì –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π –∫–∞—Ä—É—Å–µ–ª—å</option>
            <option value="5">–í–∞—Ä—ñ–∞–Ω—Ç 5 ‚Äì –ê–∫–æ—Ä–¥–µ–æ–Ω</option>
            <option value="6">–í–∞—Ä—ñ–∞–Ω—Ç 6 ‚Äì –í–µ–ª–∏–∫—ñ –∫–æ–ª—å–æ—Ä–æ–≤—ñ –±–ª–æ–∫–∏</option>
            <option value="7">–í–∞—Ä—ñ–∞–Ω—Ç 7 ‚Äì –ú–æ–∑–∞—ó–∫–∞ (–≤—Å—ñ —Ñ–∞—Ä–±–∏)</option>
            <option value="8">–í–∞—Ä—ñ–∞–Ω—Ç 8 ‚Äì –°–ø–∏—Å–æ–∫ –∑ –º–æ–¥–∞–ª—å–Ω–∏–º –≤—ñ–∫–Ω–æ–º</option>
        </select>
    </div>
    <div id="catalog-container"></div>

    <script>
        // ========== –î–ê–ù–Ü –î–õ–Ø –¢–ï–°–¢–£–í–ê–ù–ù–Ø ==========
        const testData = {
            series: [
                { id: "EC", name: { uk: "EC" }, category: "–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ", description: { uk: "–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ä–æ–∑—á–∏–Ω–Ω–∏–∫–æ–≤–∞ —Ñ–∞—Ä–±–∞" } },
                { id: "CF", name: { uk: "CARTOFLEX CF" }, category: "–ü–∞–ø—ñ—Ä/–∫–∞—Ä—Ç–æ–Ω", description: { uk: "–§–∞—Ä–±–∞ –¥–ª—è –∫–∞—Ä—Ç–æ–Ω—É" } },
                { id: "PLUV", name: { uk: "UVIPLAST PLUV" }, category: "UV —Ñ–∞—Ä–±–∏", description: { uk: "–£–§ —Ñ–∞—Ä–±–∞" } },
                { id: "SX", name: { uk: "SICOTEX SX" }, category: "–¢–µ–∫—Å—Ç–∏–ª—å", description: { uk: "–í–æ–¥–Ω–∞ —Ñ–∞—Ä–±–∞" } }
            ],
            paints: []
        };

        // –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–µ—Å—Ç–æ–≤—ñ —Ñ–∞—Ä–±–∏
        const colors = [
            { code: "10", name: "–§—ñ–æ–ª–µ—Ç–æ–≤–∏–π", color: "#800080" },
            { code: "20", name: "–°–∏–Ω—ñ–π", color: "#0000FF" },
            { code: "30", name: "–ó–µ–ª–µ–Ω–∏–π", color: "#008000" },
            { code: "40", name: "–ñ–æ–≤—Ç–∏–π", color: "#FFFF00" },
            { code: "50", name: "–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π", color: "#FFA500" },
            { code: "60", name: "–ß–µ—Ä–≤–æ–Ω–∏–π", color: "#FF0000" },
            { code: "90", name: "–ë—ñ–ª–∏–π", color: "#FFFFFF" },
            { code: "100", name: "–ß–æ—Ä–Ω–∏–π", color: "#000000" }
        ];

        let paintId = 1;
        testData.series.forEach(series => {
            colors.forEach((color, index) => {
                if (index < 5) { // –ø–æ 5 —Ñ–∞—Ä–± –Ω–∞ —Å–µ—Ä—ñ—é –¥–ª—è —Ç–µ—Å—Ç—É
                    testData.paints.push({
                        id: `paint-${paintId++}`,
                        name: `${series.id}${color.code}`,
                        series: series.id,
                        category: series.category,
                        color: color.color,
                        article: `${series.id}-${color.code}`,
                        isDefault: true,
                        displayName: { uk: `${series.name.uk} ${color.name}` }
                    });
                }
            });
        });

        // ========== –£–¢–ò–õ–Ü–¢–ò ==========
        function escapeHtml(unsafe) {
            if (!unsafe) return '';
            return String(unsafe)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        function translateCategory(cat) {
            const translations = {
                "–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ": "–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ",
                "–ü–∞–ø—ñ—Ä/–∫–∞—Ä—Ç–æ–Ω": "–ü–∞–ø—ñ—Ä/–∫–∞—Ä—Ç–æ–Ω",
                "UV —Ñ–∞—Ä–±–∏": "–£–§ —Ñ–∞—Ä–±–∏",
                "–¢–µ–∫—Å—Ç–∏–ª—å": "–¢–µ–∫—Å—Ç–∏–ª—å"
            };
            return translations[cat] || cat;
        }

        function t(key) {
            const texts = {
                properties: "–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ",
                select_series: "–û–±–µ—Ä—ñ—Ç—å —Å–µ—Ä—ñ—é",
                series: "–°–µ—Ä—ñ—ó",
                show_all_paints: "–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ —Ñ–∞—Ä–±–∏",
                paints: "—Ñ–∞—Ä–±",
                view: "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏",
                details: "–î–µ—Ç–∞–ª—ñ"
            };
            return texts[key] || key;
        }

        // ========== –î–û–ü–û–ú–Ü–ñ–ù–Ü –§–£–ù–ö–¶–Ü–á ==========
        function showSeriesDetails(series) {
            alert(`–î–µ—Ç–∞–ª—ñ —Å–µ—Ä—ñ—ó: ${series.name.uk}\n–û–ø–∏—Å: ${series.description.uk}`);
        }

        function showPaintDetails(paintId) {
            const paint = testData.paints.find(p => p.id === paintId);
            if (paint) {
                alert(`–§–∞—Ä–±–∞: ${paint.displayName.uk}\n–ö–æ–ª—ñ—Ä: ${paint.color}`);
            }
        }

        function deletePaint(paintId) {
            if (confirm(`–í–∏–¥–∞–ª–∏—Ç–∏ —Ñ–∞—Ä–±—É ${paintId}?`)) {
                alert(`–§–∞—Ä–±—É ${paintId} –≤–∏–¥–∞–ª–µ–Ω–æ (—Ç–µ—Å—Ç)`);
            }
        }

        function showAllPaintsModal(series) {
            const paints = testData.paints.filter(p => p.series === series.id);
            alert(`–°–µ—Ä—ñ—è ${series.name.uk} –º—ñ—Å—Ç–∏—Ç—å ${paints.length} —Ñ–∞—Ä–±`);
        }

        // ========== –†–ï–ù–î–ï–† –ö–û–ñ–ù–û–ì–û –í–ê–†–Ü–ê–ù–¢–£ ==========
        const renderVariant1 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);

                html += `
                <div class="series-card" data-series="${series.id}">
                    <div class="series-header">
                        <div class="series-title-group">
                            <h3>${escapeHtml(seriesName)}</h3>
                            <span class="series-category">${translateCategory(category)}</span>
                            <button class="series-info-btn" title="${t('properties')}"><i class="fas fa-info-circle"></i></button>
                        </div>
                        <button class="series-toggle-btn"><i class="fas fa-chevron-down"></i></button>
                    </div>
                    <div class="series-paints" style="display: none;">
                        <div class="paints-grid">
                            ${seriesPaints.map(p => `
                                <div class="paint-card" data-paint-id="${p.id}">
                                    <div class="paint-swatch" style="background: ${escapeHtml(p.color)};"></div>
                                    <div class="paint-info">
                                        <div class="paint-name">${escapeHtml(p.displayName?.[lang] || p.name)}</div>
                                        <div class="paint-article">${escapeHtml(p.article || '')}</div>
                                    </div>
                                    ${!p.isDefault ? `<button class="paint-delete-btn" data-paint-id="${p.id}"><i class="fas fa-trash"></i></button>` : ''}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;

            // –û–±—Ä–æ–±–Ω–∏–∫–∏
            document.querySelectorAll('.series-card').forEach(card => {
                const header = card.querySelector('.series-header');
                const toggleBtn = card.querySelector('.series-toggle-btn');
                const paintsDiv = card.querySelector('.series-paints');
                const icon = toggleBtn.querySelector('i');

                const togglePaints = (e) => {
                    if (e.target.closest('.series-info-btn')) return;
                    if (paintsDiv.style.display === 'none') {
                        paintsDiv.style.display = 'block';
                        icon.className = 'fas fa-chevron-up';
                    } else {
                        paintsDiv.style.display = 'none';
                        icon.className = 'fas fa-chevron-down';
                    }
                };

                header.addEventListener('click', togglePaints);
                toggleBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    togglePaints(e);
                });

                card.querySelector('.series-info-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    const seriesId = card.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showSeriesDetails(series);
                });

                card.querySelectorAll('.paint-card').forEach(paintCard => {
                    paintCard.addEventListener('click', (e) => {
                        if (e.target.closest('.paint-delete-btn')) return;
                        const paintId = paintCard.dataset.paintId;
                        showPaintDetails(paintId);
                    });
                });

                card.querySelectorAll('.paint-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const paintId = btn.dataset.paintId;
                        if (paintId) deletePaint(paintId);
                    });
                });
            });
        };

        const renderVariant2 = (container) => {
            const lang = 'uk';
            container.innerHTML = `
            <div class="catalog-two-panel">
                <div class="series-list-panel">
                    <h4>${t('series')}</h4>
                    <ul class="series-list">
                        ${testData.series.map(s => `
                            <li class="series-list-item" data-series="${s.id}">
                                <span class="series-name">${escapeHtml(s.name[lang])}</span>
                                <span class="series-cat">${translateCategory(s.category)}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
                <div class="paints-panel">
                    <h4 id="selected-series-title">${t('select_series')}</h4>
                    <div class="paints-grid" id="paints-grid"></div>
                </div>
            </div>
            `;

            const renderPaintsForSeries = (seriesId) => {
                const series = testData.series.find(s => s.id === seriesId);
                if (!series) return;
                document.getElementById('selected-series-title').textContent = series.name[lang];
                const seriesPaints = testData.paints.filter(p => p.series === seriesId);
                const grid = document.getElementById('paints-grid');
                grid.innerHTML = seriesPaints.map(p => `
                    <div class="paint-card" data-paint-id="${p.id}">
                        <div class="paint-swatch" style="background: ${escapeHtml(p.color)};"></div>
                        <div class="paint-info">
                            <div class="paint-name">${escapeHtml(p.displayName?.[lang] || p.name)}</div>
                            <div class="paint-article">${escapeHtml(p.article || '')}</div>
                        </div>
                        ${!p.isDefault ? `<button class="paint-delete-btn" data-paint-id="${p.id}"><i class="fas fa-trash"></i></button>` : ''}
                    </div>
                `).join('');

                document.querySelectorAll('.paints-panel .paint-card').forEach(paintCard => {
                    paintCard.addEventListener('click', (e) => {
                        if (e.target.closest('.paint-delete-btn')) return;
                        const paintId = paintCard.dataset.paintId;
                        showPaintDetails(paintId);
                    });
                });

                document.querySelectorAll('.paints-panel .paint-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const paintId = btn.dataset.paintId;
                        if (paintId) deletePaint(paintId);
                    });
                });
            };

            document.querySelectorAll('.series-list-item').forEach(item => {
                item.addEventListener('click', () => {
                    document.querySelectorAll('.series-list-item').forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                    const seriesId = item.dataset.series;
                    renderPaintsForSeries(seriesId);
                });
            });

            const firstItem = document.querySelector('.series-list-item');
            if (firstItem) {
                firstItem.classList.add('active');
                renderPaintsForSeries(firstItem.dataset.series);
            }
        };

        const renderVariant3 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);

                html += `
                <div class="series-preview-card" data-series="${series.id}">
                    <div class="series-preview-header">
                        <h3>${escapeHtml(seriesName)}</h3>
                        <span class="series-category">${translateCategory(category)}</span>
                        <button class="series-info-btn" title="${t('properties')}"><i class="fas fa-info-circle"></i></button>
                    </div>
                    <div class="series-preview-swatches">
                        ${seriesPaints.slice(0, 5).map(p => `
                            <div class="preview-swatch" style="background: ${escapeHtml(p.color)};" title="${escapeHtml(p.displayName?.[lang] || p.name)}"></div>
                        `).join('')}
                        ${seriesPaints.length > 5 ? `<div class="preview-more">+${seriesPaints.length - 5}</div>` : ''}
                    </div>
                    <button class="series-expand-btn">${t('show_all_paints')} (${seriesPaints.length})</button>
                </div>
                `;
            });
            container.innerHTML = html;

            document.querySelectorAll('.series-preview-card').forEach(card => {
                card.querySelector('.series-info-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    const seriesId = card.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showSeriesDetails(series);
                });

                card.querySelector('.series-expand-btn').addEventListener('click', () => {
                    const seriesId = card.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showAllPaintsModal(series);
                });
            });
        };

        const renderVariant4 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);

                html += `
                <div class="series-carousel-section" data-series="${series.id}">
                    <div class="series-carousel-header">
                        <h3>${escapeHtml(seriesName)} <span class="series-category">${translateCategory(category)}</span></h3>
                        <button class="series-info-btn" title="${t('properties')}"><i class="fas fa-info-circle"></i></button>
                    </div>
                    <div class="carousel-container">
                        <button class="carousel-prev"><i class="fas fa-chevron-left"></i></button>
                        <div class="carousel-track">
                            ${seriesPaints.map(p => `
                                <div class="carousel-item paint-card" data-paint-id="${p.id}">
                                    <div class="paint-swatch" style="background: ${escapeHtml(p.color)};"></div>
                                    <div class="paint-info">
                                        <div class="paint-name">${escapeHtml(p.displayName?.[lang] || p.name)}</div>
                                        <div class="paint-article">${escapeHtml(p.article || '')}</div>
                                    </div>
                                    ${!p.isDefault ? `<button class="paint-delete-btn" data-paint-id="${p.id}"><i class="fas fa-trash"></i></button>` : ''}
                                </div>
                            `).join('')}
                        </div>
                        <button class="carousel-next"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;

            document.querySelectorAll('.series-carousel-section').forEach(section => {
                const track = section.querySelector('.carousel-track');
                const prev = section.querySelector('.carousel-prev');
                const next = section.querySelector('.carousel-next');

                if (prev && next) {
                    prev.addEventListener('click', () => {
                        track.scrollBy({ left: -300, behavior: 'smooth' });
                    });
                    next.addEventListener('click', () => {
                        track.scrollBy({ left: 300, behavior: 'smooth' });
                    });
                }

                section.querySelector('.series-info-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    const seriesId = section.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showSeriesDetails(series);
                });

                section.querySelectorAll('.paint-card').forEach(paintCard => {
                    paintCard.addEventListener('click', (e) => {
                        if (e.target.closest('.paint-delete-btn')) return;
                        const paintId = paintCard.dataset.paintId;
                        showPaintDetails(paintId);
                    });
                });

                section.querySelectorAll('.paint-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const paintId = btn.dataset.paintId;
                        if (paintId) deletePaint(paintId);
                    });
                });
            });
        };

        const renderVariant5 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);

                html += `
                <div class="series-accordion" data-series="${series.id}">
                    <div class="accordion-header">
                        <span class="accordion-title">${escapeHtml(seriesName)}</span>
                        <span class="accordion-cat">${translateCategory(category)}</span>
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </div>
                    <div class="accordion-content" style="display: none;">
                        <ul class="paint-list">
                            ${seriesPaints.map(p => `
                                <li class="paint-list-item" data-paint-id="${p.id}">
                                    <span class="paint-color-dot" style="background: ${escapeHtml(p.color)};"></span>
                                    <span class="paint-list-name">${escapeHtml(p.displayName?.[lang] || p.name)}</span>
                                    <span class="paint-list-article">${escapeHtml(p.article || '')}</span>
                                    ${!p.isDefault ? `<button class="paint-list-delete" data-paint-id="${p.id}"><i class="fas fa-trash"></i></button>` : ''}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;

            document.querySelectorAll('.series-accordion').forEach(accordion => {
                const header = accordion.querySelector('.accordion-header');
                const content = accordion.querySelector('.accordion-content');
                const icon = header.querySelector('.accordion-icon');

                header.addEventListener('click', () => {
                    if (content.style.display === 'none') {
                        content.style.display = 'block';
                        icon.style.transform = 'rotate(180deg)';
                    } else {
                        content.style.display = 'none';
                        icon.style.transform = 'rotate(0deg)';
                    }
                });

                accordion.querySelectorAll('.paint-list-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (e.target.closest('.paint-list-delete')) return;
                        const paintId = item.dataset.paintId;
                        showPaintDetails(paintId);
                    });
                });

                accordion.querySelectorAll('.paint-list-delete').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const paintId = btn.dataset.paintId;
                        if (paintId) deletePaint(paintId);
                    });
                });
            });
        };

        const renderVariant6 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);
                let gradientStart = '#3a86ff', gradientEnd = '#7b2cbf';
                if (seriesPaints.length > 0) {
                    gradientStart = seriesPaints[0].color;
                    gradientEnd = seriesPaints.length > 1 ? seriesPaints[1].color : gradientStart;
                }

                html += `
                <div class="series-hero-card" data-series="${series.id}" style="background: linear-gradient(145deg, ${escapeHtml(gradientStart)}, ${escapeHtml(gradientEnd)});">
                    <div class="hero-overlay">
                        <h3>${escapeHtml(seriesName)}</h3>
                        <span class="series-category">${translateCategory(category)}</span>
                        <p class="series-paints-count">${seriesPaints.length} ${t('paints')}</p>
                        <button class="hero-view-btn">${t('view')}</button>
                    </div>
                </div>
                `;
            });
            container.innerHTML = html;

            document.querySelectorAll('.series-hero-card').forEach(card => {
                card.addEventListener('click', () => {
                    const seriesId = card.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showAllPaintsModal(series);
                });
            });
        };

        const renderVariant7 = (container) => {
            const lang = 'uk';
            const paintsBySeries = {};
            testData.paints.forEach(p => {
                if (!paintsBySeries[p.series]) paintsBySeries[p.series] = [];
                paintsBySeries[p.series].push(p);
            });

            let mosaicHTML = '';
            Object.entries(paintsBySeries).forEach(([seriesId, paints]) => {
                const series = testData.series.find(s => s.id === seriesId);
                if (!series) return;
                const seriesName = series.name[lang];
                const category = series.category;
                mosaicHTML += `
                    <div class="mosaic-series-group">
                        <h4 class="mosaic-series-title">
                            ${escapeHtml(seriesName)}
                            <span class="series-category">${translateCategory(category)}</span>
                        </h4>
                        <div class="mosaic-grid">
                            ${paints.map(p => `
                                <div class="mosaic-item" data-paint-id="${p.id}">
                                    <div class="mosaic-swatch" style="background: ${escapeHtml(p.color)};"></div>
                                    <div class="mosaic-info">
                                        <span class="mosaic-name">${escapeHtml(p.displayName?.[lang] || p.name)}</span>
                                        <span class="mosaic-article">${escapeHtml(p.article || '')}</span>
                                    </div>
                                    ${!p.isDefault ? `<button class="mosaic-delete-btn" data-paint-id="${p.id}"><i class="fas fa-trash"></i></button>` : ''}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = mosaicHTML;

            document.querySelectorAll('.mosaic-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    if (e.target.closest('.mosaic-delete-btn')) return;
                    const paintId = item.dataset.paintId;
                    showPaintDetails(paintId);
                });
            });

            document.querySelectorAll('.mosaic-delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const paintId = btn.dataset.paintId;
                    if (paintId) deletePaint(paintId);
                });
            });
        };

        const renderVariant8 = (container) => {
            const lang = 'uk';
            let html = '';
            testData.series.forEach(series => {
                const seriesName = series.name[lang];
                const category = series.category;
                const seriesPaints = testData.paints.filter(p => p.series === series.id);

                html += `
                <div class="series-list-item-compact" data-series="${series.id}">
                    <div class="series-compact-info">
                        <strong>${escapeHtml(seriesName)}</strong>
                        <span class="series-category">${translateCategory(category)}</span>
                        <span class="series-paints-badge">${seriesPaints.length}</span>
                    </div>
                    <button class="series-view-btn"><i class="fas fa-eye"></i> ${t('details')}</button>
                </div>
                `;
            });
            container.innerHTML = html;

            document.querySelectorAll('.series-list-item-compact').forEach(item => {
                const viewBtn = item.querySelector('.series-view-btn');
                viewBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const seriesId = item.dataset.series;
                    const series = testData.series.find(s => s.id === seriesId);
                    if (series) showSeriesDetails(series);
                });

                item.addEventListener('click', (e) => {
                    if (!e.target.closest('.series-view-btn')) {
                        const seriesId = item.dataset.series;
                        const series = testData.series.find(s => s.id === seriesId);
                        if (series) showSeriesDetails(series);
                    }
                });
            });
        };

        // ========== –°–¢–ò–õ–Ü –î–õ–Ø –í–°–Ü–• –í–ê–†–Ü–ê–ù–¢–Ü–í ==========
        const styles = `
            /* –í–∞—Ä—ñ–∞–Ω—Ç 1 */
            .series-card { background: rgba(20,24,28,0.6); backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.05); border-radius: 24px; padding: 20px; margin-bottom: 20px; cursor: pointer; transition: all 0.2s; }
            .series-card:hover { background: rgba(30,34,40,0.8); border-color: rgba(58,134,255,0.3); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
            .series-header { display: flex; justify-content: space-between; align-items: center; }
            .series-title-group { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
            .series-title-group h3 { font-size: 22px; font-weight: 600; color: white; margin: 0; }
            .series-category { background: rgba(58,134,255,0.15); padding: 4px 12px; border-radius: 40px; font-size: 12px; color: #8ab2ff; }
            .series-info-btn { background: transparent; border: none; color: #5a6c7e; font-size: 18px; cursor: pointer; padding: 4px; border-radius: 50%; }
            .series-info-btn:hover { color: #3a86ff; background: rgba(58,134,255,0.1); }
            .series-toggle-btn { background: transparent; border: none; color: #8a9bb0; font-size: 18px; cursor: pointer; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
            .series-toggle-btn:hover { background: rgba(255,255,255,0.05); color: white; }
            .series-paints { margin-top: 15px; animation: fadeIn 0.3s; }
            .paints-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px,1fr)); gap: 12px; }
            .paint-card { background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.03); border-radius: 16px; overflow: hidden; cursor: pointer; position: relative; }
            .paint-card:hover { transform: translateY(-2px); border-color: rgba(58,134,255,0.5); box-shadow: 0 6px 12px rgba(0,0,0,0.4); }
            .paint-swatch { height: 80px; width: 100%; }
            .paint-info { padding: 12px; }
            .paint-name { font-weight: 500; font-size: 13px; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
            .paint-article { font-size: 11px; color: #6a7a8a; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
            .paint-delete-btn { position: absolute; top: 6px; right: 6px; background: rgba(0,0,0,0.5); border: none; color: #ff6b6b; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.2s; }
            .paint-card:hover .paint-delete-btn { opacity: 1; }
            .paint-delete-btn:hover { background: #e63946; color: white; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 2 */
            .catalog-two-panel { display: flex; gap: 24px; min-height: 600px; }
            .series-list-panel { width: 280px; background: rgba(0,0,0,0.2); border-radius: 20px; padding: 20px; overflow-y: auto; }
            .series-list-panel h4 { margin-bottom: 20px; color: white; }
            .series-list { list-style: none; }
            .series-list-item { padding: 12px 16px; border-radius: 12px; margin-bottom: 8px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; }
            .series-list-item:hover { background: rgba(58,134,255,0.1); }
            .series-list-item.active { background: rgba(58,134,255,0.3); border-left: 3px solid #3a86ff; }
            .series-name { font-weight: 500; color: white; }
            .series-cat { font-size: 11px; color: #8a9bb0; }
            .paints-panel { flex: 1; background: rgba(0,0,0,0.2); border-radius: 20px; padding: 20px; overflow-y: auto; }
            .paints-panel h4 { margin-bottom: 20px; color: white; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 3 */
            .series-preview-card { background: rgba(20,24,28,0.6); border-radius: 24px; padding: 20px; margin-bottom: 20px; transition: all 0.2s; }
            .series-preview-card:hover { background: rgba(30,34,40,0.8); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
            .series-preview-header { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; margin-bottom: 15px; }
            .series-preview-header h3 { font-size: 22px; font-weight: 600; color: white; margin: 0; }
            .series-preview-swatches { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 15px; }
            .preview-swatch { width: 40px; height: 40px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); }
            .preview-more { width: 40px; height: 40px; border-radius: 8px; background: rgba(58,134,255,0.2); display: flex; align-items: center; justify-content: center; font-size: 12px; color: #8ab2ff; }
            .series-expand-btn { background: transparent; border: 1px solid rgba(58,134,255,0.4); color: #8ab2ff; padding: 8px 16px; border-radius: 40px; cursor: pointer; transition: all 0.2s; font-size: 14px; }
            .series-expand-btn:hover { background: rgba(58,134,255,0.1); border-color: #3a86ff; color: white; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 4 */
            .series-carousel-section { margin-bottom: 30px; }
            .series-carousel-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; }
            .series-carousel-header h3 { font-size: 22px; font-weight: 600; color: white; margin: 0; display: flex; align-items: center; gap: 12px; }
            .carousel-container { position: relative; display: flex; align-items: center; }
            .carousel-track { display: flex; gap: 12px; overflow-x: auto; scroll-behavior: smooth; padding: 10px 0; flex: 1; }
            .carousel-track::-webkit-scrollbar { height: 6px; }
            .carousel-track::-webkit-scrollbar-track { background: #1e2a3a; border-radius: 10px; }
            .carousel-track::-webkit-scrollbar-thumb { background: #3a86ff; border-radius: 10px; }
            .carousel-item { flex: 0 0 auto; width: 140px; }
            .carousel-prev, .carousel-next { background: rgba(0,0,0,0.5); border: none; color: white; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; position: absolute; z-index: 2; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }
            .carousel-prev { left: -16px; }
            .carousel-next { right: -16px; }
            .carousel-prev:hover, .carousel-next:hover { background: #3a86ff; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 5 */
            .series-accordion { margin-bottom: 8px; }
            .accordion-header { display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(20,24,28,0.6); border-radius: 16px; cursor: pointer; transition: background 0.2s; }
            .accordion-header:hover { background: rgba(30,34,40,0.8); }
            .accordion-title { font-size: 18px; font-weight: 600; color: white; }
            .accordion-cat { font-size: 12px; color: #8ab2ff; }
            .accordion-icon { margin-left: auto; transition: transform 0.2s; }
            .accordion-content { padding: 10px 16px; background: rgba(0,0,0,0.2); border-radius: 0 0 16px 16px; }
            .paint-list { list-style: none; }
            .paint-list-item { display: flex; align-items: center; gap: 12px; padding: 8px; border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; position: relative; }
            .paint-list-item:hover { background: rgba(58,134,255,0.1); }
            .paint-color-dot { width: 20px; height: 20px; border-radius: 4px; }
            .paint-list-name { flex: 1; color: white; }
            .paint-list-article { font-size: 12px; color: #6a7a8a; }
            .paint-list-delete { background: transparent; border: none; color: #ff6b6b; cursor: pointer; opacity: 0; transition: opacity 0.2s; }
            .paint-list-item:hover .paint-list-delete { opacity: 1; }
            .paint-list-delete:hover { color: #e63946; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 6 */
            .series-hero-card { height: 200px; border-radius: 28px; overflow: hidden; position: relative; margin-bottom: 24px; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
            .series-hero-card:hover { transform: scale(1.02); box-shadow: 0 20px 30px -10px rgba(0,0,0,0.5); }
            .hero-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(2px); display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; text-align: center; padding: 20px; }
            .hero-overlay h3 { font-size: 28px; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
            .series-paints-count { font-size: 14px; margin: 12px 0; opacity: 0.9; }
            .hero-view-btn { background: white; color: black; border: none; padding: 10px 24px; border-radius: 40px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
            .hero-view-btn:hover { background: #3a86ff; color: white; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 7 */
            .mosaic-series-group { margin-bottom: 40px; }
            .mosaic-series-title { margin-bottom: 16px; display: flex; align-items: center; gap: 12px; font-size: 22px; font-weight: 600; color: white; }
            .mosaic-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px,1fr)); gap: 16px; }
            .mosaic-item { background: rgba(0,0,0,0.3); border-radius: 16px; overflow: hidden; cursor: pointer; position: relative; transition: transform 0.2s; }
            .mosaic-item:hover { transform: translateY(-4px); box-shadow: 0 8px 16px rgba(0,0,0,0.4); }
            .mosaic-swatch { height: 100px; }
            .mosaic-info { padding: 12px; }
            .mosaic-name { display: block; font-weight: 500; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
            .mosaic-article { font-size: 11px; color: #8a9bb0; }
            .mosaic-delete-btn { position: absolute; top: 6px; right: 6px; background: rgba(0,0,0,0.5); border: none; color: #ff6b6b; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.2s; }
            .mosaic-item:hover .mosaic-delete-btn { opacity: 1; }
            .mosaic-delete-btn:hover { background: #e63946; color: white; }
            
            /* –í–∞—Ä—ñ–∞–Ω—Ç 8 */
            .series-list-item-compact { display: flex; align-items: center; justify-content: space-between; padding: 16px; background: rgba(20,24,28,0.6); border-radius: 16px; margin-bottom: 8px; transition: background 0.2s; }
            .series-list-item-compact:hover { background: rgba(30,34,40,0.8); }
            .series-compact-info { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
            .series-compact-info strong { font-size: 18px; color: white; }
            .series-paints-badge { background: rgba(58,134,255,0.2); padding: 4px 10px; border-radius: 40px; font-size: 12px; color: #8ab2ff; }
            .series-view-btn { background: transparent; border: 1px solid rgba(58,134,255,0.4); color: white; padding: 8px 16px; border-radius: 40px; cursor: pointer; display: flex; align-items: center; gap: 6px; transition: all 0.2s; }
            .series-view-btn:hover { background: rgba(58,134,255,0.1); border-color: #3a86ff; }
            
            @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        `;

        // –î–æ–¥–∞—î–º–æ —Å—Ç–∏–ª—ñ
        const styleElement = document.createElement('style');
        styleElement.textContent = styles;
        document.head.appendChild(styleElement);

        // ========== –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –í–ê–†–Ü–ê–ù–¢–Ü–í ==========
        const container = document.getElementById('catalog-container');
        const selector = document.getElementById('variant-selector');

        const renderVariant = (variant) => {
            switch(variant) {
                case '1': renderVariant1(container); break;
                case '2': renderVariant2(container); break;
                case '3': renderVariant3(container); break;
                case '4': renderVariant4(container); break;
                case '5': renderVariant5(container); break;
                case '6': renderVariant6(container); break;
                case '7': renderVariant7(container); break;
                case '8': renderVariant8(container); break;
                default: renderVariant1(container);
            }
        };

        selector.addEventListener('change', (e) => {
            renderVariant(e.target.value);
        });

        // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–Ω–¥–µ—Ä (–≤–∞—Ä—ñ–∞–Ω—Ç 1)
        renderVariant('1');
    </script>
</body>
</html>
