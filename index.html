<!DOCTYPE html>
<html lang="uk" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SICO MIX ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–º—ñ—à—É–≤–∞–Ω–Ω—è —Ñ–∞—Ä–±</title>
  <meta name="description" content="–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–º—ñ—à—É–≤–∞–Ω–Ω—è —Ñ–∞—Ä–± –¥–ª—è —Ç—Ä–∞—Ñ–∞—Ä–µ—Ç–Ω–æ–≥–æ –¥—Ä—É–∫—É ‚Äî SICO MIX 2026" />
  
  <!-- PWA + –±–∞–∑–æ–≤—ñ –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#3b82f6" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="mobile-web-app-capable" content="yes" />
  
  <!-- –Ü–∫–æ–Ω–∫–∏ -->
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512.png" />

  <!-- –®—Ä–∏—Ñ—Ç–∏ (Inter + JetBrains Mono) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />

  <!-- –°—Ç–∏–ª—ñ -->
  <link rel="stylesheet" href="/css/style.css" />

  <!-- jsPDF –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js" defer></script>
</head>
<body>
  <div class="app-container">
    <!-- –®–∞–ø–∫–∞ -->
    <header class="app-header glass">
      <div class="header-left">
        <div class="logo">
          <span class="logo-icon">üé®</span>
          <h1 class="gradient-text">SICO MIX</h1>
        </div>
        <div class="header-info">
          <span id="seriesBadge" class="series-badge"></span>
          <span id="recipeStats" class="stats-badge"></span>
        </div>
      </div>

      <div class="header-controls">
        <button id="themeToggle" aria-label="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
          <span class="theme-icon">‚òÄÔ∏è</span>
        </button>
      </div>
    </header>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
    <nav class="app-nav">
      <button class="nav-btn active" onclick="showTab('colors')" data-tab="colors">
        <span class="nav-icon">üé®</span>
        <span class="nav-text" data-i18n="catalog">–ö–∞—Ç–∞–ª–æ–≥ —Ñ–∞—Ä–±</span>
      </button>
      <button class="nav-btn" onclick="showTab('new')" data-tab="new">
        <span class="nav-icon">‚ûï</span>
        <span class="nav-text" data-i18n="newRecipe">–ù–æ–≤–∏–π —Ä–µ—Ü–µ–ø—Ç</span>
      </button>
      <button class="nav-btn" onclick="showTab('recipes')" data-tab="recipes">
        <span class="nav-icon">üìã</span>
        <span class="nav-text" data-i18n="recipes">–†–µ—Ü–µ–ø—Ç–∏</span>
      </button>
      <button class="nav-btn" onclick="showTab('settings')" data-tab="settings">
        <span class="nav-icon">‚öôÔ∏è</span>
        <span class="nav-text" data-i18n="settings">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
      </button>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="app-main">
      <!-- –í–∫–ª–∞–¥–∫–∞ –ö–∞—Ç–∞–ª–æ–≥ —Ñ–∞—Ä–± -->
      <section id="colors" class="tab active">
        <div class="tab-header">
          <h2 data-i18n="catalog">–ö–∞—Ç–∞–ª–æ–≥ —Ñ–∞—Ä–±</h2>
          <div class="tab-controls">
            <select id="seriesFilter"></select>
            <input type="search" id="colorSearch" placeholder="–ü–æ—à—É–∫..." data-i18n-placeholder="searchColorsPlaceholder" />
            <span id="colorCount"></span>
          </div>
        </div>
        <div id="colorList" class="color-grid"></div>
      </section>

      <!-- –í–∫–ª–∞–¥–∫–∞ –ù–æ–≤–∏–π —Ä–µ—Ü–µ–ø—Ç -->
      <section id="new" class="tab">
        <div class="recipe-form">
          <div class="recipe-header">
            <h2 data-i18n="newRecipe">–ù–æ–≤–∏–π —Ä–µ—Ü–µ–ø—Ç</h2>
            <div class="recipe-actions">
              <button onclick="saveRecipe()" data-i18n="saveRecipe">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
              <button onclick="clearDraft()" data-i18n="clearDraft">–û—á–∏—Å—Ç–∏—Ç–∏</button>
            </div>
          </div>

          <input type="text" id="recipeName" placeholder="–ù–∞–∑–≤–∞ —Ä–µ—Ü–µ–ø—Ç–∞" data-i18n-placeholder="recipeNamePlaceholder" />
          <textarea id="recipeNote" placeholder="–ù–æ—Ç–∞—Ç–∫–∞ / –∫–æ–º–µ–Ω—Ç–∞—Ä" data-i18n-placeholder="recipeNotePlaceholder"></textarea>

          <div class="add-color-section">
            <h3 data-i18n="addColors">–î–æ–¥–∞—Ç–∏ —Ñ–∞—Ä–±–∏</h3>
            <input type="search" id="recipeSearch" placeholder="–ü–æ—à—É–∫ —Ñ–∞—Ä–±..." data-i18n-placeholder="searchColorsPlaceholder" />
            <div id="addColorList" class="add-color-grid"></div>
          </div>

          <div class="recipe-calculator">
            <div class="calc-header">
              <h3 data-i18n="calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h3>
              <select id="totalWeight">
                <option value="100">100 –≥</option>
                <option value="250">250 –≥</option>
                <option value="500">500 –≥</option>
                <option value="1000">1000 –≥</option>
                <option value="custom">–í–ª–∞—Å–Ω–∞ –≤–∞–≥–∞</option>
              </select>
            </div>

            <input type="number" id="customWeight" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞–≥—É (–≥)" style="display:none;" />

            <div id="recipeItems" class="recipe-items"></div>

            <div class="calc-stats">
              <div>–§–∞—Ä–±: <span id="totalColors">0</span></div>
              <div>–°—É–º–∞: <span id="totalPercent">0%</span></div>
            </div>

            <div class="photo-upload">
              <label data-i18n="addPhoto">–î–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ —Å—É–º—ñ—à—ñ</label>
              <input type="file" id="recipePhoto" accept="image/*" />
              <div id="photoPreview" class="photo-preview" style="display:none;">
                <img alt="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- –í–∫–ª–∞–¥–∫–∞ –†–µ—Ü–µ–ø—Ç–∏ -->
      <section id="recipes" class="tab">
        <div class="tab-header">
          <h2 data-i18n="recipes">–†–µ—Ü–µ–ø—Ç–∏</h2>
          <input type="search" id="recipeSearchList" placeholder="–ü–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤..." data-i18n-placeholder="searchRecipesPlaceholder" />
        </div>
        <div id="recipeList" class="recipes-grid"></div>
      </section>

      <!-- –í–∫–ª–∞–¥–∫–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è -->
      <section id="settings" class="tab">
        <h2 data-i18n="settings">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
        
        <div class="settings-section">
          <h3 data-i18n="appearance">–ó–æ–≤–Ω—ñ—à–Ω—ñ–π –≤–∏–≥–ª—è–¥</h3>
          <div class="theme-options">
            <button onclick="setTheme('light')" data-i18n="light">–°–≤—ñ—Ç–ª–∞</button>
            <button onclick="setTheme('dark')" data-i18n="dark">–¢–µ–º–Ω–∞</button>
            <button onclick="setTheme('auto')" data-i18n="auto">–ê–≤—Ç–æ</button>
          </div>
        </div>

        <div class="settings-section">
          <h3 data-i18n="language">–ú–æ–≤–∞</h3>
          <div class="lang-options">
            <button onclick="setLang('ua')">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
            <button onclick="setLang('en')">English</button>
          </div>
        </div>

        <div class="settings-section danger">
          <h3 data-i18n="dataManagement">–ö–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏–º–∏</h3>
          <button onclick="exportAllData()" data-i18n="exportAllData">–ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ</button>
          <button onclick="confirmReset()" data-i18n="resetAll">–°–∫–∏–Ω—É—Ç–∏ –≤—Å–µ</button>
        </div>
      </section>
    </main>

    <!-- –®–≤–∏–¥–∫—ñ –¥—ñ—ó (bottom bar) -->
    <div class="quick-actions">
      <button class="quick-action" onclick="showTab('new')">
        <span class="action-icon">‚ûï</span>
        <span class="action-text" data-i18n="quickNew">–ù–æ–≤–∏–π</span>
      </button>
      <button class="quick-action" onclick="saveRecipe()">
        <span class="action-icon">üíæ</span>
        <span class="action-text" data-i18n="quickSave">–ó–±–µ—Ä–µ–≥—Ç–∏</span>
      </button>
      <button class="quick-action" onclick="showTab('recipes')">
        <span class="action-icon">üìã</span>
        <span class="action-text" data-i18n="quickRecipes">–†–µ—Ü–µ–ø—Ç–∏</span>
      </button>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ -->
  <div id="modalOverlay" class="modal-overlay hidden">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle"></h3>
        <button class="modal-close" onclick="closeModal()">√ó</button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div class="modal-footer">
        <button onclick="closeModal()" data-i18n="cancel">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        <button id="modalConfirm" data-i18n="confirm">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
      </div>
    </div>
  </div>

  <!-- –¢–æ—Å—Ç–∏ -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- –°–∫—Ä–∏–ø—Ç–∏ -->
  <script type="module" src="/js/i18n.js"></script>
  <script type="module" src="/js/utils.js"></script>
  <script type="module" src="/js/data-colors.js"></script>
  <script type="module" src="/js/app.js"></script>
</body>
</html>
